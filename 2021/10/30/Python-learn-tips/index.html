<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Python-learn-tips | PikeYang</title><meta name="keywords" content="Python"><meta name="author" content="CD-Yang"><meta name="copyright" content="CD-Yang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="*号Python中的（星号）和*(双星号）完全详解_微鉴道长的博客-CSDN博客_python 星号 1. nn.Sequential(*layers) 类似于torch7中的Sequential，将每一个模块按照他们的顺序送入到nn.Sequential中 ,输入可以是一些列有顺序的模块  conv1&#x3D;nn.FractionalMaxPool2d(2,output_ratio&#x3D;(scaled,s">
<meta property="og:type" content="article">
<meta property="og:title" content="Python-learn-tips">
<meta property="og:url" content="http://example.com/2021/10/30/Python-learn-tips/index.html">
<meta property="og:site_name" content="PikeYang">
<meta property="og:description" content="*号Python中的（星号）和*(双星号）完全详解_微鉴道长的博客-CSDN博客_python 星号 1. nn.Sequential(*layers) 类似于torch7中的Sequential，将每一个模块按照他们的顺序送入到nn.Sequential中 ,输入可以是一些列有顺序的模块  conv1&#x3D;nn.FractionalMaxPool2d(2,output_ratio&#x3D;(scaled,s">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141606171.png?token=AOH5QIHC75RMN67J3OHTAATDJEMLY">
<meta property="article:published_time" content="2021-10-30T02:25:22.000Z">
<meta property="article:modified_time" content="2023-06-03T16:39:47.432Z">
<meta property="article:author" content="CD-Yang">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141606171.png?token=AOH5QIHC75RMN67J3OHTAATDJEMLY"><link rel="shortcut icon" href="/img/log.png"><link rel="canonical" href="http://example.com/2021/10/30/Python-learn-tips/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google_site_verification" content="dr09vG1TBI444oOqf6L3jO5FvT8iVIP0kGJnVlpHulE"/><meta name="baidu_site_verification" content="code-hKAITCV1cF"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?f36eb509d0699155a91d15e3c1c4f98c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Python-learn-tips',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-04 00:39:47'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/head.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">26</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141606171.png?token=AOH5QIHC75RMN67J3OHTAATDJEMLY')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">PikeYang</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Python-learn-tips</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-10-30T02:25:22.000Z" title="发表于 2021-10-30 10:25:22">2021-10-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-03T16:39:47.432Z" title="更新于 2023-06-04 00:39:47">2023-06-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Python/">Python</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>16分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Python-learn-tips"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="号"><a href="#号" class="headerlink" title="*号"></a>*号</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zkk9527/article/details/88675129">Python中的<em>（星号）和*</em>(双星号）完全详解_微鉴道长的博客-CSDN博客_python 星号</a></p>
<h2 id="1-nn-Sequential-layers"><a href="#1-nn-Sequential-layers" class="headerlink" title="1. nn.Sequential(*layers)"></a>1. nn.Sequential(*layers)</h2><blockquote>
<p>类似于torch7中的Sequential，将每一个模块按照他们的顺序送入到nn.Sequential中 ,输入可以是一些列有顺序的模块</p>
</blockquote>
<pre><code>conv1=nn.FractionalMaxPool2d(2,output_ratio=(scaled,scaled))
conv2=nn.Conv2d(D,D,kernel_size= 3,stride=1,padding=1,bias=True)
conv3=nn.Upsample(size=(inputRes,inputRes),mode=&#39;bilinear&#39;)
return nn.Sequential(conv1,conv2,conv3)
</code></pre><blockquote>
<p>输入也可以是一个orderDict</p>
</blockquote>
<pre><code># Example of using Sequential with OrderedDict
model = nn.Sequential(OrderedDict([           #orderdict按照建造时候的顺序进行存储
          (&#39;conv1&#39;, nn.Conv2d(1,20,5)),
          (&#39;relu1&#39;, nn.ReLU()),
          (&#39;conv2&#39;, nn.Conv2d(20,64,5)),
          (&#39;relu2&#39;, nn.ReLU())
        ]))
</code></pre><p>orderdict示例</p>
<pre><code>#orderdict部分源代码来自https://www.cnblogs.com/gide/p/6370082.html，稍有改动
import collections
print &quot;Regular dictionary&quot;
d=&#123;&#125;
d[&#39;a&#39;]=&#39;A&#39;
d[&#39;b&#39;]=&#39;B&#39;
d[&#39;c&#39;]=&#39;C&#39;
for k,v in d.items():
    print k,v

print &quot;\nOrder dictionary&quot;
d1 = collections.OrderedDict()
d1[&#39;a&#39;] = &#39;A&#39;
d1[&#39;b&#39;] = &#39;B&#39;
d1[&#39;c&#39;] = &#39;C&#39;
d1[&#39;2&#39;] = &#39;2&#39;
d1[&#39;1&#39;] = &#39;1&#39;
for k,v in d1.items():
    print k,v
</code></pre><p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141606650.png?token=AOH5QIG4W2PLKWGQCPJE7K3DJEMMC" alt=""></p>
<blockquote>
<p>输入也可以是list,然后输入的时候用*来引用</p>
</blockquote>
<pre><code> layers = []
 layers.append(block(inplanes, outplanes,inputRes,baseWidth=9,cardinality=4,stride=1,preact=preact))
 return nn.Sequential(*layers)  # 不加*号，会报错 TypeError: list is not a Module subclass
</code></pre><p>因为从nn.Sequential的定义来看<br><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141606878.png?token=AOH5QIGEQVQXRDJSW2DKLPTDJEMMO" alt=""><br>输入要么事orderdict,要么事一系列的模型，遇到上述的list，必须用*号进行转化</p>
<p>Sequential好处是啥呢？</p>
<pre><code>    def _make_fc(self, inplanes, outplanes):
        bn = nn.BatchNorm2d(inplanes)
        conv = nn.Conv2d(inplanes, outplanes, kernel_size=1, bias=True)
        return nn.Sequential(
                conv,
                bn,
                self.relu,
            )
</code></pre><p>在前传forward的时候，一步完成，而不需要conv,bn，relu在forward函数里都写一遍</p>
<h2 id="2-torch-nn-ModuleList"><a href="#2-torch-nn-ModuleList" class="headerlink" title="2. torch.nn.ModuleList"></a>2. torch.nn.ModuleList</h2><blockquote>
<p>存储一系列模型的module list，操作类似于标准的python list</p>
</blockquote>
<pre><code>class MyModule(nn.Module):
    def __init__(self):
        super(MyModule, self).__init__()
        self.linears = nn.ModuleList([nn.Linear(10, 10) for i in range(10)])

    def forward(self, x):
        # ModuleList can act as an iterable, or be indexed using ints
        for i, l in enumerate(self.linears):
            x = self.linears[i // 2](x) + l(x)
        return x
</code></pre><p>代码中的<code>[nn.Linear(10, 10) for i in range(10)]</code>是一个python列表，必须要把它转换成一个module list列表才可以被pytorch使用，否则在运行的时候会报错，什么错呢？<code>RuntimeError: Input type (CUDAFloatTensor) and weight type (CPUFloatTensor) should be the same</code>,如果这部分不转成modulelist（gpu）,那么只是pythonlist(cpu) 来承载这些模型，定造成cpu和gpu的冲突。</p>
<h2 id="3-python-号"><a href="#3-python-号" class="headerlink" title="3 python *号"></a>3 python *号</h2><blockquote>
<p>单个星号代表这个位置接收任意多个非关键字参数，并转化成元表。也就是<em>b 会接受除了a之外的剩下的非关键字参数，需要注意的是</em>加在形参面前代表的是收集参数，如果*号加在了是实参上(例如第十四行)，代表的是将输入迭代器拆成一个个元素</p>
</blockquote>
<pre><code>d1 = collections.OrderedDict()
d1[&#39;a&#39;] = &#39;A&#39;
d1[&#39;b&#39;] = &#39;B&#39;
d1[&#39;c&#39;] = &#39;C&#39;
d1[&#39;2&#39;] = &#39;2&#39;
d1[&#39;1&#39;] = &#39;1&#39;

def one(a,*b):
    print(b)
def two(*b):
    print(b)
c = [6,7,8,9]
one(1,2,3,4,5,6)
one(*c)    #传入实参的时候，加上*号，可以将列表中的元素拆成一个个的元素
one(*d1)   #传入实参的时候，加上*号，可以将字典中的元素拆成一个个的元素
one(c)
one(d1)
two(c)
two(d1)
</code></pre><p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141606600.png?token=AOH5QICWBXAARBSF7VKEDUTDJEMOG" alt=""></p>
<blockquote>
<p>** 双星号代表这个位置接收任意多个关键字参数，并按照关键字转化成字典<br>用双星号传入实参的时候，一定是所有的实参必须带有关键字</p>
</blockquote>
<pre><code>def three1(**b):
    print(b)

three(a=1,b=2,c=3,d=4,e=5,f=6)
</code></pre><h2 id="4-torch-CMul-CAdd在pytorch中消失了，代以"><a href="#4-torch-CMul-CAdd在pytorch中消失了，代以" class="headerlink" title="4. torch CMul CAdd在pytorch中消失了，代以* , +"></a>4. torch CMul CAdd在pytorch中消失了，代以* , +</h2><p><code>CMul</code> : component-wise multiplication</p>
<p><code>CAdd</code>: component-wise addition</p>
<h1 id="魔术方法"><a href="#魔术方法" class="headerlink" title="魔术方法"></a><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/329962624">魔术方法</a></h1><h2 id="什么是魔术方法？"><a href="#什么是魔术方法？" class="headerlink" title="什么是魔术方法？"></a><strong>什么是魔术方法？</strong></h2><p>在Python中，所有以双下划线<code>__</code>包起来的方法，统称为<strong>Magic Method（魔术方法）</strong>，它是一种的特殊方法，普通方法需要调用，而魔术方法不需要调用就可以自动执行。</p>
<p>魔术方法在类或对象的某些事件出发后会自动执行，让类具有神奇的“魔力”。如果希望根据自己的程序定制自己特殊功能的类，那么就需要对这些方法进行重写。</p>
<p>Python中常用的运算符、for循环、以及类操作等都是运行在魔术方法之上的。</p>
<p><strong>魔术方法<code>__init__</code>、<code>__new__</code>、<code>__del__</code>的应用</strong></p>
<pre><code>class People(object):
    # 创建对象
    def __new__(cls, *args, **kwargs):
        print(&quot;触发了构造方法&quot;)
        ret = super().__new__(cls) # 调用父类的__new__()方法创建对象
        return ret ## 将对象返
    # 实例化对象
    def __init__(self, name, age):
        self.name = name
        self.age = age
        print(&quot;初始化方法&quot;)
    #  删除对象
    #   del 对象名或者程序执行结束之后
    def __del__(self):
        print(&quot;析构方法，删除对象&quot;)
</code></pre><p>​<br>​    if <strong>name</strong> == ‘<strong>main</strong>‘:<br>​        p1 = People(‘xiaoming’, 16)<br>​<br>​    输出：<br>​    触发了构造方法<br>​    初始化方法<br>​    析构方法，删除对象</p>
<p><strong>使用<code>__call__</code>方法实现斐波那契数列</strong></p>
<pre><code># 斐波那契数列指的是这样一个数列 0, 1, 1, 2, 3, 5, 8, 13
# 特别指出：第0项是0，第1项是第一个1。从第三项开始，每一项都等于前两项之和。
class Fib(object):
    def __init__(self):
        pass
    def __call__(self,num):
        a,b = 0,1;
        self.l=[]

        for i in range (num):
            self.l.append(a)
            a,b= b,a+b
        return self.l
    def __str__(self):
        return str(self.l)
    __rept__=__str__

f = Fib()
print(f(10))
输出：
[0, 1, 1, 2, 3, 5, 8, 13, 21, 34]
</code></pre><h2 id="常用的魔术方法"><a href="#常用的魔术方法" class="headerlink" title="常用的魔术方法"></a>常用的魔术方法</h2><h3 id="1-初始化方法-init"><a href="#1-初始化方法-init" class="headerlink" title="1.初始化方法__init__"></a>1.初始化方法<code>__init__</code></h3><pre><code>触发机制：实例化对象之后立即触发
参数：至少有一个self，接收当前对象，其他参数根据需要进行定义
返回值：无
作用：初始化对象的成员
</code></pre><h3 id="2-构造方法-new"><a href="#2-构造方法-new" class="headerlink" title="2.构造方法__new__"></a>2.构造方法<code>__new__</code></h3><pre><code>触发时机： 实例化对象时自动触发（在__init__之前触发）
参数：至少一个cls 接收当前类，其他参数根据初始化方法参数决定
返回值：必须返回一个对象实例，没有返回值，则实例化对象的结果为None
作用：实例化对象
注意：实例化对象是Object类底层实现，其他类继承了Object的__new__才能够实现实例化对象。
</code></pre><h3 id="3-析构方法-del"><a href="#3-析构方法-del" class="headerlink" title="3.析构方法__del__"></a>3.析构方法<code>__del__</code></h3><pre><code>触发时机：当该类对象被销毁时，自动触发
参数：一个self，接受当前对象
返回值：无
作用：关闭或释放对象创建时资源
注意：del不一定会触发当前方法，只有当前对象没有任何变量引用时才会触发
</code></pre><h3 id="4-call"><a href="#4-call" class="headerlink" title="4.__call__"></a>4.<code>__call__</code></h3><pre><code>调用对象的魔术方法
触发时机:将对象当作函数调用时触发,方式： 对象()
参数:至少一个self接收对象，其余根据调用时参数决定
返回值：根据情况而定
作用：可以将复杂的步骤进行合并操作，减少调用的步骤，方便使用
注意：无
</code></pre><h3 id="5-len"><a href="#5-len" class="headerlink" title="5.__len__"></a>5.<code>__len__</code></h3><pre><code>触发时机：使用len(对象) 的时候触发
参数：一个参数self
返回值：必须是一个整型
作用：可以设置为检测对象成员个数，但是也可以进行其他任意操作
注意：返回值必须必须是整数，否则语法报错，另外该要求是格式要求。
</code></pre><h3 id="6-str"><a href="#6-str" class="headerlink" title="6.__str__"></a>6.<code>__str__</code></h3><pre><code>触发时机:使用print(对象)或者str(对象)的时候触发
参数：一个self接收对象
返回值：必须是字符串类型
作用：print（对象时）进行操作，得到字符串，通常用于快捷操作
注意：无
</code></pre><h3 id="7-repr"><a href="#7-repr" class="headerlink" title="7.__repr__"></a>7.<code>__repr__</code></h3><pre><code>触发时机:在使用repr(对象)的时候触发
参数：一个self接收对象
返回值：必须是字符串
作用：将对象转使用repr化为字符串时使用，也可以用于快捷操作
</code></pre><h3 id="8-bool"><a href="#8-bool" class="headerlink" title="8.__bool__"></a>8.<code>__bool__</code></h3><pre><code>触发时机: 使用bool(对象)的时候触发
参数：一个self接收对象
返回值：必须是布尔值
作用：根据实际情况决定，可以作为快捷方式使用
注意:仅适合于返回布尔值的操作
</code></pre><h3 id="9-format"><a href="#9-format" class="headerlink" title="9.__format__"></a>9.<code>__format__</code></h3><pre><code>触发时机：使用字符串.format(对象)时候触发
参数：一个self接收对象，一个参数接收format的&#123;&#125;中的格式，例如:&gt;5
返回值:必须是字符串
作用：设置对象可以作为format的参数，并且自定义对象格式化的规则
注意：无
</code></pre><h2 id="与属性操作相关的魔术方法"><a href="#与属性操作相关的魔术方法" class="headerlink" title="与属性操作相关的魔术方法"></a>与属性操作相关的魔术方法</h2><hr>
<h3 id="1-getattr"><a href="#1-getattr" class="headerlink" title="1.__getattr__"></a>1.<code>__getattr__</code></h3><pre><code>触发时机：获取不存在的对象成员时触发
参数：一个是接收当前对象的self，一个是获取成员名称的字符串
返回值：必须有值
作用:为访问不存在的属性设置值
注意：getattribute无论何时都会在getattr之前触发，触发了getattribute就不会在触发getattr了
</code></pre><h3 id="2-setattr"><a href="#2-setattr" class="headerlink" title="2.__setattr__"></a>2.<code>__setattr__</code></h3><pre><code>触发时机:设置对象成员值的时候触发
参数:1个当前对象的self,一个是要设置的成员名称字符串,一个是要设置的值
返回值:无 过程操作
作用:接管设置操作,可以在设置前之前进行判断验证等行为
注意:在当前方法中无法使用成员=值的方式直接设置成员，否则会无限递归，必须借助object的设置方法来完成

object.__setattr__（参数1，参数2，参数3）
</code></pre><h3 id="3-delattr"><a href="#3-delattr" class="headerlink" title="3.__delattr__"></a>3.<code>__delattr__</code></h3><pre><code>触发时机：删除对象成员时触发
参数：一个当前对象的self
返回值：无
作用:可以在删除成员时进行验证。
</code></pre><h3 id="4-getattribute"><a href="#4-getattribute" class="headerlink" title="4.__getattribute__"></a>4.<code>__getattribute__</code></h3><pre><code>触发时机：使用对象成员时触发，无论成员是否存在
参数：1个接收当前对象self，一个是获取的成员的名称字符串
返回值：必须有
作用：在具有封装操作（私有化时），为程序开部分访问权限使用
</code></pre><h3 id="5-dir"><a href="#5-dir" class="headerlink" title="5.__dir__"></a>5.<code>__dir__</code></h3><pre><code>触发时机：dir（对象）的时候触发
参数:1个接收当前对象self
返回值：必须为序列类型（列表，元组，集合等，）
作用：可以自定义成员列表的返回值
</code></pre><h2 id="其他魔术方法"><a href="#其他魔术方法" class="headerlink" title="其他魔术方法"></a>其他魔术方法</h2><h3 id="比较运算相关魔术方法"><a href="#比较运算相关魔术方法" class="headerlink" title="比较运算相关魔术方法"></a>比较运算相关魔术方法</h3><pre><code>__ lt__(self, other)：
定义小于号的行为：x &lt; y 调用 x.lt(y)
__ le__(self, other)：
定义小于等于号的行为：x &lt;= y 调用 x.le(y)
__ eq__(self, other) ：
定义等于号的行为：x == y 调用 x.eq(y)
__ ne__(self, other)：
定义不等号的行为：x != y 调用 x.ne(y)
__ gt__(self, other)：
定义大于号的行为：x &gt; y 调用 x.**gt(y)
__ ge__(self, other) ：
定义大于等于号的行为：x &gt;= y 调用 x.ge(y)
</code></pre><h3 id="算术运算相关魔术方法"><a href="#算术运算相关魔术方法" class="headerlink" title="算术运算相关魔术方法"></a>算术运算相关魔术方法</h3><pre><code>__add__(self, other)           定义加法的行为：+
__sub__(self, other)           定义减法的行为：-
__mul__(self, other)           定义乘法的行为：*
__truediv__(self, other)       定义真除法的行为：/
__floordiv__(self, other)      定义整数除法的行为：//
__mod__(self, other)           定义取模算法的行为：%
__divmod__(self, other)        定义当被 divmod() 调用时的行为
__pow__(self, other[, modulo]) 定义当被 power() 调用或 ** 运算时的行为
__lshift__(self, other)        定义按位左移位的行为：&lt;&lt;
__rshift__(self, other)        定义按位右移位的行为：&gt;&gt;
__and__(self, other)           定义按位与操作的行为：&amp;
__xor__(self, other)           定义按位异或操作的行为：^
__or__(self, other)            定义按位或操作的行为：|
</code></pre><h3 id="赋值运算相关魔术方法"><a href="#赋值运算相关魔术方法" class="headerlink" title="赋值运算相关魔术方法"></a>赋值运算相关魔术方法</h3><pre><code>__iadd__(self, other)             定义赋值加法的行为：+=
__isub__(self, other)             定义赋值减法的行为：-=
__imul__(self, other)             定义赋值乘法的行为：=
__itruediv__(self, other)         定义赋值真除法的行为：/=
__ifloordiv__(self, other)        定义赋值整数除法的行为：//=
__imod__(self, other)             定义赋值取模算法的行为：%=
__ipow__(self, other[, modulo])   定义赋值幂运算的行为：**=
__ilshift__(self, other)          定义赋值按位左移位的行为：&lt;&lt;=
__irshift__(self, other)          定义赋值按位右移位的行为：&gt;&gt;=
__iand__(self, other)             定义赋值按位与操作的行为：&amp;=
__ixor__(self, other)             定义赋值按位异或操作的行为：^=
__ior__(self, other)              定义赋值按位或操作的行为：|=
</code></pre><h3 id="一元运算相关魔术方法"><a href="#一元运算相关魔术方法" class="headerlink" title="一元运算相关魔术方法"></a>一元运算相关魔术方法</h3><pre><code>__pos__(self)      定义正号的行为：+x
__neg__(self)      定义负号的行为：-x
__abs__(self)      定义当被 abs() 调用时的行为
__invert__(self)   定义按位求反的行为：~x
</code></pre><h3 id="类型转换相关魔术方法"><a href="#类型转换相关魔术方法" class="headerlink" title="类型转换相关魔术方法"></a>类型转换相关魔术方法</h3><pre><code>__complex__(self)      定义当被 complex() 调用时的行为（需要返回恰当的值）
__int__(self)          定义当被 int() 调用时的行为（需要返回恰当的值）
__float__(self)        定义当被 float() 调用时的行为（需要返回恰当的值）
__round__(self[, n])   定义当被 round() 调用时的行为（需要返回恰当的值）
__index(self)__        1. 当对象是被应用在切片表达式中时，实现整形强制转换
                       2. 如果你定义了一个可能在切片时用到的定制的数值型,你应该定义 index
                       3. 如果 index 被定义，则 int 也需要被定义，且返回相同的值
</code></pre><h3 id="上下文管理相关魔术方法-with"><a href="#上下文管理相关魔术方法-with" class="headerlink" title="上下文管理相关魔术方法(with)"></a>上下文管理相关魔术方法(with)</h3><p><code>__enter__</code> 和 <code>__exit__</code></p>
<pre><code>__enter__(self)
    1. 定义当使用 with 语句时的初始化行为
    2. enter 的返回值被 with 语句的目标或者 as 后的名字绑定

__exit__(self, exctype, excvalue, traceback)
    1. 定义当一个代码块被执行或者终止后上下文管理器应该做什么
    2. 一般被用来处理异常，清除工作或者做一些代码块执行完毕之后的日常工作
</code></pre><h3 id="容器类型相关魔术方法"><a href="#容器类型相关魔术方法" class="headerlink" title="容器类型相关魔术方法"></a>容器类型相关魔术方法</h3><pre><code>__len__(self)                  定义当被 len() 调用时的行为（返回容器中元素的个数）
__getitem__(self, key)         定义获取容器中指定元素的行为，相当于 self[key]
__setitem__(self, key, value)  定义设置容器中指定元素的行为，相当于 self[key] = value
__delitem__(self, key)         定义删除容器中指定元素的行为，相当于 del self[key]
__iter__(self)                 定义当迭代容器中的元素的行为
__reversed__(self)             定义当被 reversed() 调用时的行为
__contains__(self, item)       定义当使用成员测试运算符（in 或 not in）时的行为

关于python魔术方法的知识掌握这么多基本就够用了，这里给大家推荐一个评价不错的python课程，希望对大家有所帮助。
</code></pre><h1 id="PyCharm-配置cv2"><a href="#PyCharm-配置cv2" class="headerlink" title="PyCharm 配置cv2"></a>PyCharm 配置cv2</h1><p>​        PyCharm在安装完opencv后，仍然无法自动补全和opencv相关的代码，解决方法如下。</p>
<blockquote>
<p>把Lib/site-pakages/cv2/*.pyd 复制到site-pakages</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141607394.png?token=AOH5QIAV463S7D2EAQB4PL3DJEMO2" alt="image-20211122161302050"></p>
<h1 id="yield-and-return"><a href="#yield-and-return" class="headerlink" title="yield and return"></a>yield and return</h1><h2 id="yield"><a href="#yield" class="headerlink" title="yield"></a>yield</h2><p>It is generally used to convert a regular Python function into a generator. A generator is a special function in Python that returns a generator to the caller.  Since it stores the variable states, hence overhead of memory allocation is controlled.</p>
<h2 id="return"><a href="#return" class="headerlink" title="return"></a>return</h2><p>It is generally used for the end of the execution and “returns” the result to the caller statement. It can return all type of values and it returns None when there is no expression with the statement “return”.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">S.NO.</th>
<th style="text-align:left">YIELD</th>
<th style="text-align:left">RETURN</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">Yield is generally used to convert a regular Python function into a generator.</td>
<td style="text-align:left">Return is generally used for the end of the execution and “returns” the result to the caller statement.</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">It replace the return of a function to suspend its execution without destroying local variables.</td>
<td style="text-align:left">It exits from a function and handing back a value to its caller.</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left">It is used when the generator returns an intermediate result to the caller.</td>
<td style="text-align:left">It is used when a function is ready to send a value.</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left">Code written after yield statement execute in next function call.</td>
<td style="text-align:left">while, code written after return statement wont execute.</td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left"><strong>It can run multiple times.</strong></td>
<td style="text-align:left"><strong>It only runs single time.</strong></td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left">Yield statement function is executed from the last state from where the function get paused.</td>
<td style="text-align:left">Every function calls run the function from the start.</td>
</tr>
</tbody>
</table>
</div>
<h1 id="While-else"><a href="#While-else" class="headerlink" title="While else"></a>While else</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>:</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">    	<span class="keyword">break</span></span><br><span class="line">        </span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    正常推出<span class="keyword">while</span>时调用</span><br></pre></td></tr></table></figure>
<h1 id="新建dict注意"><a href="#新建dict注意" class="headerlink" title="新建dict注意"></a>新建dict注意</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">In [<span class="number">56</span>]: d = &#123;x: y <span class="keyword">for</span> x <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] <span class="keyword">for</span> y <span class="keyword">in</span> [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]&#125;</span><br><span class="line"></span><br><span class="line">In [<span class="number">57</span>]: d</span><br><span class="line">Out[<span class="number">57</span>]: &#123;<span class="number">1</span>: <span class="number">6</span>, <span class="number">2</span>: <span class="number">6</span>, <span class="number">3</span>: <span class="number">6</span>&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>1:4 -&gt; 1:5 -&gt; 1:6</p>
</blockquote>
<p>一直在更新键值对</p>
<h1 id="集合的方法"><a href="#集合的方法" class="headerlink" title="集合的方法"></a>集合的方法</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">update(<span class="string">&quot;all&quot;</span>) -&gt; a l l  add(<span class="string">&quot;all&quot;</span>)</span><br><span class="line"></span><br><span class="line">issuperset &gt;  &gt;=</span><br><span class="line"></span><br><span class="line">issubset  &lt; &lt;=</span><br><span class="line"></span><br><span class="line">union |</span><br><span class="line"></span><br><span class="line">intersection &amp;</span><br><span class="line"></span><br><span class="line">difference -</span><br><span class="line"></span><br><span class="line"><span class="comment"># 集合A与集合B的对称差集定义为集合A与集合B中所有不属于A∩B的元素的集合，记为A△B</span></span><br><span class="line">symmetric_difference ^</span><br></pre></td></tr></table></figure>
<h1 id="Frozenset"><a href="#Frozenset" class="headerlink" title="Frozenset"></a>Frozenset</h1><p>可哈希</p>
<h1 id="字符串前-u-r-b-f"><a href="#字符串前-u-r-b-f" class="headerlink" title="字符串前 u r b f"></a>字符串前 u r b f</h1><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_38682860/article/details/108848994">Python 字符串前面加u,r,b,f的含义_python学习者的博客-CSDN博客</a></p>
<h1 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h1><h2 id="关键字参数"><a href="#关键字参数" class="headerlink" title="关键字参数"></a>关键字参数</h2><p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141607109.png?token=AOH5QIAXWQORMHSDGNK3AXLDJEMPK" alt="截屏2022-02-04 下午1.39.33"></p>
<p><strong>/</strong> 之前不可以使用关键字参数，<strong>/</strong>之后可以使用</p>
<p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141607745.png?token=AOH5QIAZEMZ57JGJQCYEARDDJEMP2" alt="截屏2022-02-04 下午1.46.02"></p>
<p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141607259.png?token=AOH5QIHYSGMH2SFRN2MKDGTDJEMQO" alt="截屏2022-02-04 下午1.48.00"></p>
<h2 id="收集参数"><a href="#收集参数" class="headerlink" title="收集参数"></a>收集参数</h2><p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141607266.png?token=AOH5QID37OEI7FUSJTM7TOTDJEMRG" alt="截屏2022-02-04 下午1.54.03" style="zoom:25%;" /></p>
<p>​        Python中，多值赋值，返回多个值都是使用元组（打包解包）</p>
<p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141607917.png?token=AOH5QIGAMLYI7PLL53DCKHDDJEMRU" alt="截屏2022-02-04 下午2.02.11"></p>
<p><img src="https://gitee.com/cd-yang/pic/raw/master/img/%E6%88%AA%E5%B1%8F2022-02-04%20%E4%B8%8B%E5%8D%882.06.25.png" alt="截屏2022-02-04 下午2.06.25"></p>
<h2 id="global-nonlocal"><a href="#global-nonlocal" class="headerlink" title="global nonlocal"></a>global nonlocal</h2><p>nonlocal声明的变量不是局部变量,也不是全局变量,而是外部嵌套函数内的变量</p>
<p>global 全局</p>
<h2 id="LEGB"><a href="#LEGB" class="headerlink" title="LEGB"></a>LEGB</h2><p>local &gt; enclosed(嵌套函数的外部函数变量) &gt; global &gt; build-in</p>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><p><img src="https://gitee.com/cd-yang/pic/raw/master/img/202202041425081.png" alt="截屏2022-02-04 下午2.24.38" style="zoom:50%;" /></p>
<p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141608061.png?token=AOH5QID4UABABKCLMATFWFLDJEMTW" alt="截屏2022-02-04 下午2.27.54"></p>
<h2 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">debug</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;[DEBUG]: enter &#123;&#125;()&quot;</span>.<span class="built_in">format</span>(func.__name__))</span><br><span class="line">        <span class="keyword">return</span> func()</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@debug</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>():</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"></span><br><span class="line">hello()</span><br><span class="line">-----------------------------</span><br><span class="line">&gt;&gt;&gt;[DEBUG]: enter hello()</span><br><span class="line">&gt;&gt;&gt;hello</span><br></pre></td></tr></table></figure>
<h2 id="lambda"><a href="#lambda" class="headerlink" title="lambda"></a>lambda</h2><p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141608936.png?token=AOH5QIHOCPNQE35VT4M6J2DDJEMTI" alt="截屏2022-02-04 下午2.44.39"></p>
<p>filter 返回使得表达式为True的结果</p>
<h2 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h2><p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141608411.png?token=AOH5QIDPPR75GICQWGPU723DJEMS6" alt="截屏2022-02-04 下午2.53.14"></p>
<h1 id="列表的删除问题"><a href="#列表的删除问题" class="headerlink" title="列表的删除问题"></a>列表的删除问题</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">data = [<span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> each <span class="keyword">in</span> data:  <span class="comment"># for each in data.copy()</span></span><br><span class="line">  <span class="keyword">if</span> each == <span class="number">1</span>:</span><br><span class="line">    data.remove(<span class="number">1</span>)</span><br><span class="line">    </span><br><span class="line"><span class="built_in">print</span>(data)</span><br></pre></td></tr></table></figure>
<p><img src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141608417.png?token=AOH5QID6QYNBCYNBKYOT5VTDJEMSM" alt="截屏2022-02-04 下午11.17.53"></p>
<h1 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h1><h2 id="元组中只有一个元素时—逗号"><a href="#元组中只有一个元素时—逗号" class="headerlink" title="元组中只有一个元素时—逗号"></a>元组中只有一个元素时—逗号</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tup1 = (<span class="number">50</span>,)</span><br></pre></td></tr></table></figure>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><ol>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/difference-between-yield-and-return-in-python/">Difference between Yield and Return in Python</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_38682860/article/details/108848994">Python 字符串前面加u,r,b,f的含义_python学习者的博客-CSDN博客</a></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">CD-Yang</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2021/10/30/Python-learn-tips/">http://example.com/2021/10/30/Python-learn-tips/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">PikeYang</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Python/">Python</a></div><div class="post_share"><div class="social-share" data-image="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141606171.png?token=AOH5QIHC75RMN67J3OHTAATDJEMLY" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/11/02/Contrastive-Learning/"><img class="prev-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Contrastive Learning</div></div></a></div><div class="next-post pull-right"><a href="/2021/10/29/CV-some-tips/"><img class="next-cover" src="https://raw.githubusercontent.com/pikeyang/iamage/master/img/202210141605871.png?token=AOH5QIC5TDKHGOU4AWF5DQDDJEMHW" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">CV-some-tips</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> 相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/10/09/Numpy-Note/" title="Numpy-Note"><img class="cover" src="https://gitee.com/cd-yang/pic/raw/master/img/202110091216761.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-09</div><div class="title">Numpy-Note</div></div></a></div><div><a href="/2021/11/06/Matplotlib-Notes/" title="Matplotlib Notes"><img class="cover" src="https://yang-img-weng.oss-cn-hangzhou.aliyuncs.com/images/202304042156601.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-06</div><div class="title">Matplotlib Notes</div></div></a></div><div><a href="/2022/02/28/Underscore-in-Python/" title="Underscore in Python (Python中的下划线)"><img class="cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-28</div><div class="title">Underscore in Python (Python中的下划线)</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/head.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">CD-Yang</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">28</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">26</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">13</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/pikeyang"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/pikeyang" target="_blank" title="Github"><i class="fab fa-github"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is PikeYang's Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8F%B7"><span class="toc-number">1.</span> <span class="toc-text">*号</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-nn-Sequential-layers"><span class="toc-number">1.1.</span> <span class="toc-text">1. nn.Sequential(*layers)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-torch-nn-ModuleList"><span class="toc-number">1.2.</span> <span class="toc-text">2. torch.nn.ModuleList</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-python-%E5%8F%B7"><span class="toc-number">1.3.</span> <span class="toc-text">3 python *号</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-torch-CMul-CAdd%E5%9C%A8pytorch%E4%B8%AD%E6%B6%88%E5%A4%B1%E4%BA%86%EF%BC%8C%E4%BB%A3%E4%BB%A5"><span class="toc-number">1.4.</span> <span class="toc-text">4. torch CMul CAdd在pytorch中消失了，代以* , +</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">魔术方法</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95%EF%BC%9F"><span class="toc-number">2.1.</span> <span class="toc-text">什么是魔术方法？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.</span> <span class="toc-text">常用的魔术方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B9%E6%B3%95-init"><span class="toc-number">2.2.1.</span> <span class="toc-text">1.初始化方法__init__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%9E%84%E9%80%A0%E6%96%B9%E6%B3%95-new"><span class="toc-number">2.2.2.</span> <span class="toc-text">2.构造方法__new__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9E%90%E6%9E%84%E6%96%B9%E6%B3%95-del"><span class="toc-number">2.2.3.</span> <span class="toc-text">3.析构方法__del__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-call"><span class="toc-number">2.2.4.</span> <span class="toc-text">4.__call__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-len"><span class="toc-number">2.2.5.</span> <span class="toc-text">5.__len__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-str"><span class="toc-number">2.2.6.</span> <span class="toc-text">6.__str__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-repr"><span class="toc-number">2.2.7.</span> <span class="toc-text">7.__repr__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-bool"><span class="toc-number">2.2.8.</span> <span class="toc-text">8.__bool__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-format"><span class="toc-number">2.2.9.</span> <span class="toc-text">9.__format__</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8E%E5%B1%9E%E6%80%A7%E6%93%8D%E4%BD%9C%E7%9B%B8%E5%85%B3%E7%9A%84%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.3.</span> <span class="toc-text">与属性操作相关的魔术方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-getattr"><span class="toc-number">2.3.1.</span> <span class="toc-text">1.__getattr__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-setattr"><span class="toc-number">2.3.2.</span> <span class="toc-text">2.__setattr__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-delattr"><span class="toc-number">2.3.3.</span> <span class="toc-text">3.__delattr__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-getattribute"><span class="toc-number">2.3.4.</span> <span class="toc-text">4.__getattribute__</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-dir"><span class="toc-number">2.3.5.</span> <span class="toc-text">5.__dir__</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.</span> <span class="toc-text">其他魔术方法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.1.</span> <span class="toc-text">比较运算相关魔术方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.2.</span> <span class="toc-text">算术运算相关魔术方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B5%8B%E5%80%BC%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.3.</span> <span class="toc-text">赋值运算相关魔术方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E5%85%83%E8%BF%90%E7%AE%97%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.4.</span> <span class="toc-text">一元运算相关魔术方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.5.</span> <span class="toc-text">类型转换相关魔术方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%8A%E4%B8%8B%E6%96%87%E7%AE%A1%E7%90%86%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95-with"><span class="toc-number">2.4.6.</span> <span class="toc-text">上下文管理相关魔术方法(with)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%B9%E5%99%A8%E7%B1%BB%E5%9E%8B%E7%9B%B8%E5%85%B3%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.7.</span> <span class="toc-text">容器类型相关魔术方法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#PyCharm-%E9%85%8D%E7%BD%AEcv2"><span class="toc-number">3.</span> <span class="toc-text">PyCharm 配置cv2</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#yield-and-return"><span class="toc-number">4.</span> <span class="toc-text">yield and return</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#yield"><span class="toc-number">4.1.</span> <span class="toc-text">yield</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#return"><span class="toc-number">4.2.</span> <span class="toc-text">return</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#While-else"><span class="toc-number">5.</span> <span class="toc-text">While else</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%96%B0%E5%BB%BAdict%E6%B3%A8%E6%84%8F"><span class="toc-number">6.</span> <span class="toc-text">新建dict注意</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">7.</span> <span class="toc-text">集合的方法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Frozenset"><span class="toc-number">8.</span> <span class="toc-text">Frozenset</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%89%8D-u-r-b-f"><span class="toc-number">9.</span> <span class="toc-text">字符串前 u r b f</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-number">10.</span> <span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E5%8F%82%E6%95%B0"><span class="toc-number">10.1.</span> <span class="toc-text">关键字参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E5%8F%82%E6%95%B0"><span class="toc-number">10.2.</span> <span class="toc-text">收集参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#global-nonlocal"><span class="toc-number">10.3.</span> <span class="toc-text">global nonlocal</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LEGB"><span class="toc-number">10.4.</span> <span class="toc-text">LEGB</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%97%AD%E5%8C%85"><span class="toc-number">10.5.</span> <span class="toc-text">闭包</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A3%85%E9%A5%B0%E5%99%A8"><span class="toc-number">10.6.</span> <span class="toc-text">装饰器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lambda"><span class="toc-number">10.7.</span> <span class="toc-text">lambda</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%99%A8"><span class="toc-number">10.8.</span> <span class="toc-text">生成器</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E7%9A%84%E5%88%A0%E9%99%A4%E9%97%AE%E9%A2%98"><span class="toc-number">11.</span> <span class="toc-text">列表的删除问题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%83%E7%BB%84"><span class="toc-number">12.</span> <span class="toc-text">元组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%BB%84%E4%B8%AD%E5%8F%AA%E6%9C%89%E4%B8%80%E4%B8%AA%E5%85%83%E7%B4%A0%E6%97%B6%E2%80%94%E9%80%97%E5%8F%B7"><span class="toc-number">12.1.</span> <span class="toc-text">元组中只有一个元素时—逗号</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Reference"><span class="toc-number">13.</span> <span class="toc-text">Reference</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/06/04/prime-number/" title="prime number"><img src="https://yang-img-weng.oss-cn-hangzhou.aliyuncs.com/images/1665918397.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="prime number"/></a><div class="content"><a class="title" href="/2023/06/04/prime-number/" title="prime number">prime number</a><time datetime="2023-06-03T16:47:30.000Z" title="发表于 2023-06-04 00:47:30">2023-06-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/04/hello-world/" title="Hello World"><img src="https://gitee.com/cd-yang/pic/raw/master/img/20210707131511.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"/></a><div class="content"><a class="title" href="/2023/06/04/hello-world/" title="Hello World">Hello World</a><time datetime="2023-06-03T16:39:47.434Z" title="发表于 2023-06-04 00:39:47">2023-06-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/01/shortest-path-problem/" title="shortest path problem"><img src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="shortest path problem"/></a><div class="content"><a class="title" href="/2023/06/01/shortest-path-problem/" title="shortest path problem">shortest path problem</a><time datetime="2023-06-01T08:16:03.000Z" title="发表于 2023-06-01 16:16:03">2023-06-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/15/Bayes/" title="Bayes"><img src="https://yang-img-weng.oss-cn-hangzhou.aliyuncs.com/images/202304042151694.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Bayes"/></a><div class="content"><a class="title" href="/2022/10/15/Bayes/" title="Bayes">Bayes</a><time datetime="2022-10-15T04:48:05.000Z" title="发表于 2022-10-15 12:48:05">2022-10-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/10/14/Linear-Regression/" title="Linear Regression"><img src="https://yang-img-weng.oss-cn-hangzhou.aliyuncs.com/images/202304042152453.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linear Regression"/></a><div class="content"><a class="title" href="/2022/10/14/Linear-Regression/" title="Linear Regression">Linear Regression</a><time datetime="2022-10-14T08:09:52.000Z" title="发表于 2022-10-14 16:09:52">2022-10-14</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By CD-Yang</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.2
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container:not\([display]\)').forEach(node => {
            const target = node.parentNode
            if (target.nodeName.toLowerCase() === 'li') {
              target.parentNode.classList.add('has-jax')
            } else {
              target.classList.add('has-jax')
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script></div><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>